!function(e,t){function n(e,t,n,i,s,o,r){var a;if(r="number"==typeof r?r:0,e.css(n,i+o),a=e.width(),a>=t){if(e.css(n,""),a==t)return{match:"exact",size:parseFloat((parseFloat(i)-.1).toFixed(3))};var c=t-r,l=a-t;return{match:"estimate",size:parseFloat((parseFloat(i)-("word-spacing"===n&&r&&c>l?0:s)).toFixed(3))}}return a}function i(e,i,s,o,r){var a=e.clone(!0).addClass("bigtext-cloned").css({fontFamily:e.css("font-family"),textTransform:e.css("text-transform"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),position:"absolute",left:c.DEBUG_MODE?0:-9999,top:c.DEBUG_MODE?0:-9999}).appendTo(document.body),l=[],u=[],d=[],p=[];return i.css("float","left").each(function(e){var i=t(this),a=c.test.noFractionalFontSize?[8,4,1]:[8,4,1,.1],u;if(i.hasClass(c.EXEMPT_CLASS))return l.push(null),p.push(null),void d.push(!1);var f=32,S=parseFloat(i.css("font-size")),g=(i.width()/S).toFixed(6);newFontSize=parseInt(s/g,10)-f;e:for(var h=0,_=a.length;_>h;h++)t:for(var b=1,E=10;E>=b;b++){if(newFontSize+b*a[h]>o){newFontSize=o;break e}if(u=n(i,s,"font-size",newFontSize+b*a[h],a[h],"px",u),"number"!=typeof u){if(newFontSize=u.size,"exact"==u.match)break e;break t}}p.push(s/newFontSize),newFontSize>o?(l.push(o),d.push(!1)):r&&r>newFontSize?(l.push(r),d.push(!0)):(l.push(newFontSize),d.push(!1))}).each(function(e){var i=t(this),o=0,r=1,a;if(i.hasClass(c.EXEMPT_CLASS))return void u.push(null);i.css("font-size",l[e]+"px");for(var d=1,p=3;p>d;d+=r)if(a=n(i,s,"word-spacing",d,r,"px",a),"number"!=typeof a){o=a.size;break}i.css("font-size",""),u.push(o)}).removeAttr("style"),c.DEBUG_MODE?a.css({"background-color":"rgba(255,255,255,.4)"}):a.remove(),{fontSizes:l,wordSpacings:u,ratios:p,minFontSizes:d}}var s=0,o=t("head"),r=e.BigText,a=t.fn.bigtext,c={DEBUG_MODE:!1,DEFAULT_MIN_FONT_SIZE_PX:null,DEFAULT_MAX_FONT_SIZE_PX:528,GLOBAL_STYLE_ID:"bigtext-style",STYLE_ID:"bigtext-id",LINE_CLASS_PREFIX:"bigtext-line",EXEMPT_CLASS:"bigtext-exempt",noConflict:function(n){return n&&(t.fn.bigtext=a,e.BigText=r),c},test:{noFractionalFontSize:function(){if(!("getComputedStyle"in e&&"body"in document))return!0;var n=t("<div/>").css({position:"absolute","font-size":"14.1px"}).appendTo(document.body).get(0),i=e.getComputedStyle(n,null);return i?"14px"===i.getPropertyValue("font-size"):!0}()},init:function(){t("#"+c.GLOBAL_STYLE_ID).length||o.append(c.generateStyleTag(c.GLOBAL_STYLE_ID,[".bigtext * { white-space: nowrap; } .bigtext > * { display: block; }",".bigtext ."+c.EXEMPT_CLASS+", .bigtext ."+c.EXEMPT_CLASS+" * { white-space: normal; }"]))},bindResize:function(n,i){t.throttle?t(e).unbind(n).bind(n,t.throttle(100,i)):(t.fn.smartresize?n="smartresize."+n:_.debounce&&(i=_.debounce(i,200)),t(e).unbind(n).bind(n,i))},getStyleId:function(e){return c.STYLE_ID+"-"+e},generateStyleTag:function(e,n){return t("<style>"+n.join("\n")+"</style>").attr("id",e)},clearCss:function(e){var n=c.getStyleId(e);t("#"+n).remove()},generateCss:function(e,t,n,i){var s=[];c.clearCss(e);for(var o=0,r=t.length;r>o;o++)s.push("#"+e+" ."+c.LINE_CLASS_PREFIX+o+" {"+(i[o]?" white-space: normal;":"")+(t[o]?" font-size: "+t[o]+"px;":"")+(n[o]?" word-spacing: "+n[o]+"px;":"")+"}");return c.generateStyleTag(c.getStyleId(e),s)},jQueryMethod:function(e){return c.init(),e=t.extend({minfontsize:c.DEFAULT_MIN_FONT_SIZE_PX,maxfontsize:c.DEFAULT_MAX_FONT_SIZE_PX,childSelector:"",resize:!0},e||{}),this.each(function(){var n=t(this).addClass("bigtext"),r=n.width(),a=n.attr("id"),l=e.childSelector?n.find(e.childSelector):n.children();a||(a="bigtext-id"+s++,n.attr("id",a)),e.resize&&c.bindResize("resize.bigtext-event-"+a,function(){c.jQueryMethod.call(t("#"+a),e)}),c.clearCss(a),l.addClass(function(e,t){return[t.replace(new RegExp("\\b"+c.LINE_CLASS_PREFIX+"\\d+\\b"),""),c.LINE_CLASS_PREFIX+e].join(" ")});var u=i(n,l,r,e.maxfontsize,e.minfontsize);o.append(c.generateCss(a,u.fontSizes,u.wordSpacings,u.minFontSizes))}),this.trigger("bigtext:complete")}};t.fn.bigtext=c.jQueryMethod,e.BigText=c}(this,jQuery);